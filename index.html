<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Optimization Canvas - Eisenhower Matrix</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-main">
                <h1>Task Optimization Canvas</h1>
                <p>Strategize, prioritize, and execute with an enhanced Eisenhower Matrix dashboard.</p>
            </div>
            <div class="header-meta">
                <div class="sync-controls">
                    <div id="sync-status" class="sync-status offline">📱 Offline</div>
                    <button id="setup-sync-btn" class="sync-btn">🔄 Enable Sync</button>
                </div>
                <div class="quick-peek">
                    <span class="peek-label">Active Focus</span>
                    <span class="peek-value" id="active-quadrant">—</span>
                </div>
            </div>
        </header>

        <section class="dashboard-grid">
            <div class="control-panel">
                <div class="toolbar">
                    <div class="search-field">
                        <input type="search" id="task-search" placeholder="Search tasks or descriptions" aria-label="Search tasks" />
                    </div>
                    <div class="filter-field">
                        <label for="quadrant-filter">View</label>
                        <select id="quadrant-filter">
                            <option value="all" selected>All Quadrants</option>
                            <option value="urgent-important">Do First</option>
                            <option value="not-urgent-important">Schedule</option>
                            <option value="urgent-not-important">Delegate</option>
                            <option value="not-urgent-not-important">Eliminate</option>
                        </select>
                        <button id="reset-filter" class="ghost-btn" type="button">Reset</button>
                    </div>
                </div>

                <div class="task-input-section">
                    <div class="input-group">
                        <label for="new-task">Task Name</label>
                        <input type="text" id="new-task" placeholder="What needs your attention?" maxlength="100" />
                    </div>
                    <div class="input-group">
                        <label for="task-description">Details</label>
                        <textarea id="task-description" placeholder="Add context, links, or next steps..." rows="3"></textarea>
                    </div>
                    <div class="meta-row">
                        <div class="meta-field">
                            <label for="due-date">Time Limit</label>
                            <input type="datetime-local" id="due-date" />
                        </div>
                        <div class="meta-field">
                            <label for="importance">Importance</label>
                            <select id="importance">
                                <option value="important" selected>Important</option>
                                <option value="not-important">Not Important</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-controls">
                        <button id="add-task" type="button">Add Task</button>
                        <button id="clear-all" class="secondary" type="button">Clear All</button>
                        <button id="recalc-urgency" class="secondary small" type="button">Recalculate Urgency</button>
                    </div>
                </div>
            </div>

            <aside class="insights-panel">
                <div class="stats-panel">
                    <div class="stat">
                        <span class="stat-number" id="total-tasks">0</span>
                        <span class="stat-label">Total Tasks</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="completed-count">0</span>
                        <span class="stat-label">Completed</span>
                    </div>
                </div>
                <div class="progress-card">
                    <h3>Progress Snapshot</h3>
                    <div class="progress-wrapper">
                        <div class="progress-ring">
                            <svg viewBox="0 0 36 36" class="circular-chart">
                                <path class="circle-bg" d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831" />
                                <path id="progress-ring" class="circle" stroke-dasharray="0, 100" d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831" />
                            </svg>
                            <div class="progress-value" id="productivity-score">0%</div>
                        </div>
                        <div class="progress-meta">
                            <p class="progress-label">Completion Rate</p>
                            <p class="progress-secondary" id="focus-areas">No focus data yet</p>
                        </div>
                    </div>
                </div>
            </aside>
        </section>

        <section class="matrix-container">
            <div class="matrix-labels">
                <div class="axis-label vertical">IMPORTANT</div>
                <div class="axis-label horizontal">URGENT</div>
            </div>
            
            <div class="matrix-grid">
                <div class="quadrant q1" data-quadrant="urgent-important">
                    <div class="quadrant-header">
                        <h3>DO FIRST</h3>
                        <span class="quadrant-subtitle">Urgent + Important</span>
                        <span class="task-count">0</span>
                    </div>
                    <div class="task-zone" id="urgent-important-zone"></div>
                </div>

                <div class="quadrant q2" data-quadrant="not-urgent-important">
                    <div class="quadrant-header">
                        <h3>SCHEDULE</h3>
                        <span class="quadrant-subtitle">Not Urgent + Important</span>
                        <span class="task-count">0</span>
                    </div>
                    <div class="task-zone" id="not-urgent-important-zone"></div>
                </div>

                <div class="quadrant q3" data-quadrant="urgent-not-important">
                    <div class="quadrant-header">
                        <h3>DELEGATE</h3>
                        <span class="quadrant-subtitle">Urgent + Not Important</span>
                        <span class="task-count">0</span>
                    </div>
                    <div class="task-zone" id="urgent-not-important-zone"></div>
                </div>

                <div class="quadrant q4" data-quadrant="not-urgent-not-important">
                    <div class="quadrant-header">
                        <h3>ELIMINATE</h3>
                        <span class="quadrant-subtitle">Not Urgent + Not Important</span>
                        <span class="task-count">0</span>
                    </div>
                    <div class="task-zone" id="not-urgent-not-important-zone"></div>
                </div>
            </div>
        </div>

        <section class="progress-section">
            <div class="section-heading">
                <h2>Progress Tracker</h2>
                <p>Review what’s done and analyze your productivity velocity.</p>
            </div>
            <div class="progress-tabs">
                <button class="tab-button active" data-tab="completed">Completed Tasks</button>
                <button class="tab-button" data-tab="analytics">Analytics</button>
            </div>
            
            <div class="tab-content active" id="completed-tab">
                <div id="completed-tasks"></div>
            </div>
            
            <div class="tab-content" id="analytics-tab">
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h4>Time Distribution</h4>
                        <div class="distribution" id="analytics-distribution">
                            <div class="distribution-row">
                                <span>Do First</span>
                                <div class="distribution-bar"><span data-quadrant="urgent-important"></span></div>
                            </div>
                            <div class="distribution-row">
                                <span>Schedule</span>
                                <div class="distribution-bar"><span data-quadrant="not-urgent-important"></span></div>
                            </div>
                            <div class="distribution-row">
                                <span>Delegate</span>
                                <div class="distribution-bar"><span data-quadrant="urgent-not-important"></span></div>
                            </div>
                            <div class="distribution-row">
                                <span>Eliminate</span>
                                <div class="distribution-bar"><span data-quadrant="not-urgent-not-important"></span></div>
                            </div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4>Insight Log</h4>
                        <ul id="insight-log" class="insight-log"></ul>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Task Detail Modal -->
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Task Details</h3>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Deadline Notification Popup -->
    <div id="deadline-popup" class="deadline-popup hidden">
        <div class="deadline-popup-content">
            <div class="deadline-popup-header">
                <h3>⚠️ Urgent Deadline Alert</h3>
                <button class="deadline-close" id="deadline-close">×</button>
            </div>
            <div class="deadline-popup-body" id="deadline-popup-body">
                <!-- Dynamic content will be inserted here -->
            </div>
            <div class="deadline-popup-actions">
                <button class="deadline-snooze" id="deadline-snooze">Snooze 15min</button>
                <button class="deadline-dismiss" id="deadline-dismiss">Got it!</button>
            </div>
        </div>
    </div>

    <script src="sync.js"></script>
    <script src="script.js"></script>
</body>
</html>
